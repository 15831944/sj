class()'class {
  this
}

class_bar([heap]x'i32:)'i32 {
  [heap]class_foo([stack]this : class_foo(
    [heap]x'i32 : this.x
  ))
}

class_foo([heap]x'i32:)'i32 {
  if this.x > 0 {
    [heap]class_bar([stack]this : class_bar(
      [heap]x'i32 : this.x - 1
    ))
  } else {
    0
  }
}

global()'void {
  [stack]c'class : [stack]class([stack]this : class())
  [heap]class_foo([stack]this : class_foo(
    [heap]x'i32 : 4
  ))
  void
}

